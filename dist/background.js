/******/ (function() { // webpackBootstrap
var __webpack_exports__ = {};
/*!***************************!*\
  !*** ./src/background.js ***!
  \***************************/
chrome.runtime.onInstalled.addListener(function () {
  console.log('IT WORKS!?');

  //create context menu
  chrome.contextMenus.create({
    id: 'tracker',
    title: 'Add to Trackr',
    contexts: ['link']
  });
  chrome.storage.sync.get(["list"]).then(function (result) {
    if (result.list == null) {
      var list = new Array();
      chrome.storage.sync.set({
        list: list
      }).then(function () {
        console.log("created list");
      });
    }
    console.log(result.list);
  });
});
chrome.contextMenus.onClicked.addListener(function (info) {
  console.log(info.linkUrl);
  chrome.storage.sync.get({
    list: []
  }).then(function (result) {
    var newList = result.list;
    if (newList && Array.isArray(newList)) {
      newList.push(info.linkUrl);
    }
    chrome.storage.sync.set({
      list: newList
    }).then(function () {
      for (var i = 0; i < newList.length; i++) {
        console.log("List " + i + " " + newList[i]);
      }
    });
  });
});
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBQSxNQUFNLENBQUNDLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDQyxXQUFXLENBQUMsWUFBTTtFQUMzQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsWUFBWSxDQUFDOztFQUd6QjtFQUNBTCxNQUFNLENBQUNNLFlBQVksQ0FBQ0MsTUFBTSxDQUFDO0lBQ3pCQyxFQUFFLEVBQUUsU0FBUztJQUNiQyxLQUFLLEVBQUUsZUFBZTtJQUN0QkMsUUFBUSxFQUFFLENBQUMsTUFBTTtFQUNuQixDQUFDLENBQUM7RUFFRlYsTUFBTSxDQUFDVyxPQUFPLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFVBQUNDLE1BQU0sRUFBSztJQUNqRCxJQUFJQSxNQUFNLENBQUNDLElBQUksSUFBSSxJQUFJLEVBQUM7TUFDdEIsSUFBTUEsSUFBSSxHQUFHLElBQUlDLEtBQUssRUFBRTtNQUN4QmpCLE1BQU0sQ0FBQ1csT0FBTyxDQUFDQyxJQUFJLENBQUNNLEdBQUcsQ0FBQztRQUFDRixJQUFJLEVBQUNBO01BQUksQ0FBQyxDQUFDLENBQUNGLElBQUksQ0FBQyxZQUFNO1FBQzlDVixPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjLENBQUM7TUFDN0IsQ0FBQyxDQUFDO0lBQ0o7SUFDQUQsT0FBTyxDQUFDQyxHQUFHLENBQUNVLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDO0VBQzFCLENBQUMsQ0FBQztBQUdKLENBQUMsQ0FBQztBQUVGaEIsTUFBTSxDQUFDTSxZQUFZLENBQUNhLFNBQVMsQ0FBQ2hCLFdBQVcsQ0FBQyxVQUFTaUIsSUFBSSxFQUFDO0VBQ3REaEIsT0FBTyxDQUFDQyxHQUFHLENBQUNlLElBQUksQ0FBQ0MsT0FBTyxDQUFDO0VBRXpCckIsTUFBTSxDQUFDVyxPQUFPLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0lBQUNHLElBQUksRUFBRTtFQUFFLENBQUMsQ0FBQyxDQUFDRixJQUFJLENBQUMsVUFBQ0MsTUFBTSxFQUFLO0lBQ25ELElBQU1PLE9BQU8sR0FBR1AsTUFBTSxDQUFDQyxJQUFJO0lBQzNCLElBQUlNLE9BQU8sSUFBSUwsS0FBSyxDQUFDTSxPQUFPLENBQUNELE9BQU8sQ0FBQyxFQUFDO01BQ3BDQSxPQUFPLENBQUNFLElBQUksQ0FBQ0osSUFBSSxDQUFDQyxPQUFPLENBQUM7SUFDNUI7SUFDQXJCLE1BQU0sQ0FBQ1csT0FBTyxDQUFDQyxJQUFJLENBQUNNLEdBQUcsQ0FBQztNQUFFRixJQUFJLEVBQUVNO0lBQVEsQ0FBQyxDQUFDLENBQUNSLElBQUksQ0FBQyxZQUFNO01BQ3BELEtBQUssSUFBSVcsQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFHSCxPQUFPLENBQUNJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUM7UUFDcENyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLEdBQUdvQixDQUFDLEdBQUcsR0FBRyxHQUFHSCxPQUFPLENBQUNHLENBQUMsQ0FBQyxDQUFDO01BQzdDO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJ0b29uLXRyYWNrci8uL3NyYy9iYWNrZ3JvdW5kLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKCgpID0+IHtcclxuICBjb25zb2xlLmxvZygnSVQgV09SS1MhPycpXHJcblxyXG5cclxuICAvL2NyZWF0ZSBjb250ZXh0IG1lbnVcclxuICBjaHJvbWUuY29udGV4dE1lbnVzLmNyZWF0ZSh7XHJcbiAgICBpZDogJ3RyYWNrZXInLFxyXG4gICAgdGl0bGU6ICdBZGQgdG8gVHJhY2tyJyxcclxuICAgIGNvbnRleHRzOiBbJ2xpbmsnXVxyXG4gIH0pO1xyXG5cclxuICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbXCJsaXN0XCJdKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgIGlmIChyZXN1bHQubGlzdCA9PSBudWxsKXtcclxuICAgICAgY29uc3QgbGlzdCA9IG5ldyBBcnJheSgpO1xyXG4gICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7bGlzdDpsaXN0fSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGVkIGxpc3RcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2cocmVzdWx0Lmxpc3QpXHJcbiAgfSk7XHJcbiAgXHJcblxyXG59KTtcclxuXHJcbmNocm9tZS5jb250ZXh0TWVudXMub25DbGlja2VkLmFkZExpc3RlbmVyKGZ1bmN0aW9uKGluZm8pe1xyXG4gIGNvbnNvbGUubG9nKGluZm8ubGlua1VybCk7XHJcbiAgXHJcbiAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoe2xpc3Q6IFtdfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdMaXN0ID0gcmVzdWx0Lmxpc3Q7XHJcbiAgICBpZiAobmV3TGlzdCAmJiBBcnJheS5pc0FycmF5KG5ld0xpc3QpKXtcclxuICAgICAgbmV3TGlzdC5wdXNoKGluZm8ubGlua1VybCk7XHJcbiAgICB9XHJcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7IGxpc3Q6IG5ld0xpc3QgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IG5ld0xpc3QubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGlzdCBcIiArIGkgKyBcIiBcIiArIG5ld0xpc3RbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcblxyXG4iXSwibmFtZXMiOlsiY2hyb21lIiwicnVudGltZSIsIm9uSW5zdGFsbGVkIiwiYWRkTGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiY29udGV4dE1lbnVzIiwiY3JlYXRlIiwiaWQiLCJ0aXRsZSIsImNvbnRleHRzIiwic3RvcmFnZSIsInN5bmMiLCJnZXQiLCJ0aGVuIiwicmVzdWx0IiwibGlzdCIsIkFycmF5Iiwic2V0Iiwib25DbGlja2VkIiwiaW5mbyIsImxpbmtVcmwiLCJuZXdMaXN0IiwiaXNBcnJheSIsInB1c2giLCJpIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==